!function(t){"use strict";function i(i,s){this.$fileInput=t(i),this.fileName=this.$fileInput.attr("value"),this.isValid=!0,this.options=t.extend({},this.defaults,t.fn.fileinput.locales,s),this.build(),this.options.init.call(this.$fileInput),this.bindEvents()}i.prototype={constructor:i,defaults:{browseButtonClass:"btn-success",clearButtonClass:"btn-danger",inputClass:"",allowedExtensions:"",showClearButton:!0,init:function(){},change:function(){},clear:function(){}},build:function(){var i='<input type="text" class="form-control '+this.options.inputClass+'" placeholder="'+this.options.placeholder+'" readonly>',s='<button type="button" class="btn '+this.options.clearButtonClass+'">'+this.options.clearButtonText+"</button>",n='<button type="button" class="btn '+this.options.browseButtonClass+'">'+this.options.browseButtonText+"</button>";this.$html=t('<div class="input-group"><span class="input-group-btn"></span></div>'),this.$textInput=t(i).prependTo(this.$html),this.$browseButton=t(n).prependTo(t(".input-group-btn",this.$html)),this.$clearButton=t(s).prependTo(t(".input-group-btn",this.$html)),this.setFileName(),this.displayClearButton(),this.$fileInput.after(this.$html).hide()},bindEvents:function(){this.$browseButton.on("click",t.proxy(function(){this.$fileInput.trigger("click")},this)),this.$clearButton.on("click",t.proxy(this.clear,this)),this.$fileInput.on("change",t.proxy(this.change,this))},change:function(t){this.fileName=t.target.value.replace(/^.*[\\\/]/,""),this.fileExtension=t.target.value.split(".").pop().toLowerCase(),Array.isArray(this.options.allowedExtensions)?this.isValid=this.checkValidity():this.isValid=t.target.validity.valid,this.displayClearButton(),this.setFileName(),this.options.change.call(this.$fileInput,this.fileName,this.fileExtension,this.isValid)},displayClearButton:function(){this.options.showClearButton&&this.fileName?this.$clearButton.show():this.$clearButton.hide()},setFileName:function(t){var t=t||this.fileName;this.$textInput.val(t)},clear:function(){this.$fileInput.wrap("<form>").closest("form").get(0).reset(),this.$fileInput.unwrap(),this.$textInput.val(""),this.$clearButton.hide(),this.options.clear.call(this.$fileInput)},checkValidity:function(){return!this.fileName||t.inArray(this.fileExtension,this.options.allowedExtensions.map(function(t){return t.toLowerCase()}))>-1},destroy:function(){this.$html.remove(),this.$fileInput.show(),this.$fileInput.data("fileinput",null)},refresh:function(){this.$html.remove(),this.build(),this.bindEvents()},setOptions:function(i){this.options=t.extend({},this.options,i),this.refresh()}},t.fn.fileinput=function(s,n){return this.each(function(){var e=t(this).data("fileinput"),o="object"==typeof s&&s;e||(e=new i(this,o),t(this).data("fileinput",e)),"string"==typeof s&&e[s](n)})},t.fn.fileinput.Constructor=i,t.fn.fileinput.locales={placeholder:"Choose file...",browseButtonText:"Browse",clearButtonText:"Remove"}}(window.jQuery);